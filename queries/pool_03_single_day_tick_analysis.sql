/*

pool 03 history
------------------------------------------+----------+----------+----------+-----------------------------------+---------------------------------------+
pool_id                                   |unix_date |hist_date |tick_index|usdc_price                         |weth_price                             |
------------------------------------------+----------+----------+----------+-----------------------------------+---------------------------------------+
...                                       |          |          |          |                                   |                                       |
0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8|1663372800|2022-09-16|    203584|1441.672102160675728029846267852014|0.0006936390032804762203534771318086471|
------------------------------------------+----------+----------+----------+-----------------------------------+---------------------------------------+

*/

select
	t.pool_id,
	t.tick_index,
	t.constant_price0,
	trunc(t.constant_price0 / 1000000000000, 6) as p0_USDC_3000,
	t.constant_price1,
	trunc(t.constant_price1 * 1000000000000, 6) as p1_WETH_3000
from univ3.pool_ticks t
where t.pool_id = '0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8'
and t.tick_index in ('203580', '203640')
order by 1,2;

/*

pool_id                                   |tick_index|constant_price0                    |p0_usdc_3000|constant_price1                             |p1_weth_3000|
------------------------------------------+----------+-----------------------------------+------------+--------------------------------------------+------------+
0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8|    203580|693306103.7999904730583266767584647|    0.000693|0.000000001442364338809407927963099405027417| 1442.364338|
0x8ad599c3a0ff1de082011efddc58f1908eb6e6d8|    203640|697478235.6996084796888037902395321|    0.000697|0.000000001433736493579539139959632182342651| 1433.736493|

*/