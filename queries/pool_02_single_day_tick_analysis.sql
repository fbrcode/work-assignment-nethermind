/*

pool 02 history
------------------------------------------+----------+----------+----------+------------------------------------+------------------------------------+
pool_id                                   |unix_date |hist_date |tick_index|dai_price                           |usdc_price                          |
------------------------------------------+----------+----------+----------+------------------------------------+------------------------------------+
...
0x6c6bc977e13df9b0de53b251522280bb72383700|1663372800|2022-09-16|   -276325| 1.000071421809740716850290611031802|0.9999285832909698878065174913527177|
------------------------------------------+----------+----------+----------+------------------------------------+------------------------------------+

*/

select
	t.pool_id,
	t.tick_index,
	t.constant_price0,
	trunc(t.constant_price0 * 1000000000000, 6) as p0_DAI_300,
	t.constant_price1,
	trunc(t.constant_price1 / 1000000000000, 6) as p1_USDC_300
from univ3.pool_ticks t
where t.pool_id = '0x6c6bc977e13df9b0de53b251522280bb72383700'
and t.tick_index in ('-276330', '-276320')
order by 1,2;


/*

pool_id                                   |tick_index|constant_price0                                |p0_dai_300|constant_price1                    |p1_usdc_300|
------------------------------------------+----------+-----------------------------------------------+----------+-----------------------------------+-----------+
0x6c6bc977e13df9b0de53b251522280bb72383700|   -276330|0.000000000000999402852189219754058408407363092|  0.999402|1000597504609.349650191274105384587|   1.000597|
0x6c6bc977e13df9b0de53b251522280bb72383700|   -276320| 0.00000000000100040270489264179120266356026516|  1.000402|  999597457213.30790736395788572891|   0.999597|

*/

